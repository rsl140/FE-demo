CREATE TABLE
IF
  NOT EXISTS AUTH_USER (
    ID VARCHAR(32) PRIMARY KEY  COMMENT '用户ID' ,
    NICK_NAME VARCHAR(128)    COMMENT '昵称' ,
    SEX INT    COMMENT '性别 0:secret,1:man,2:woman' ,
    PASSWORD VARCHAR(32)    COMMENT '密码' ,
    SALT VARCHAR(32)    COMMENT '密码盐值' ,
    AVATAR VARCHAR(32)    COMMENT '头像' ,
    EMAIL VARCHAR(32) NOT NULL   COMMENT '邮件' ,
    PHONE VARCHAR(32)    COMMENT '手机号' ,
    STATUS VARCHAR(32)    COMMENT '状态' ,
    REVISION INT    COMMENT '乐观锁' ,
    CREATED_BY VARCHAR(32)    COMMENT '创建人' ,
    CREATED_TIME DATETIME    COMMENT '创建时间' ,
    UPDATED_BY VARCHAR(32)    COMMENT '更新人' ,
    UPDATED_TIME DATETIME    COMMENT '更新时间' ,
    COMMNET VARCHAR(512)    COMMENT '备注'
) ENGINE = INNODB charset = utf8 COMMENT = '用户信息 ';

INSERT INTO AUTH_USER
VALUES
  ( '1001', 'SUPER', 0, '123456', NULL, NULL, NULL, '1001@qq.com', NULL, '1', NULL, NULL, now( ), NULL, now( ), NULL ),
  ( '1002', 'manager', 0, '123456', NULL, NULL, NULL, '1002@qq.com', NULL, '1', NULL, NULL, now( ), NULL, now( ), NULL ),
  ( '1003', 'member', 0, '123456', NULL, NULL, NULL, '1003@qq.com', NULL, '1', NULL, NULL, now( ), NULL, now( ), NULL );


CREATE TABLE
IF
  NOT EXISTS AUTH_ROLE(
    ID VARCHAR(32)  PRIMARY KEY  COMMENT '角色ID' ,
    NAME VARCHAR(128)    COMMENT '角色名' ,
    TYPE VARCHAR(32)    COMMENT '角色类型' ,
    STATUS VARCHAR(32)    COMMENT '角色状态' ,
    SUMMARY VARCHAR(512)    COMMENT '角色描述' ,
    REVISION INT    COMMENT '乐观锁' ,
    CREATED_BY VARCHAR(32)    COMMENT '创建人' ,
    CREATED_TIME DATETIME    COMMENT '创建时间' ,
    UPDATED_BY VARCHAR(32)    COMMENT '更新人' ,
    UPDATED_TIME DATETIME    COMMENT '更新时间'
) ENGINE = INNODB charset = utf8 COMMENT = '角色信息 ';

INSERT INTO AUTH_ROLE
VALUES
  ( '1001', 'SUPER', NULL, 1, '所有权限', NULL, NULL, now( ), NULL, now( ) ),
  ( '1002', 'MANAGER', NULL, 1, '管理员', NULL, NULL, now( ), NULL, now( ) ),
  ( '1003', 'MEMBER', NULL, 1, '会员', NULL, NULL, now( ), NULL, now( ) );

CREATE TABLE
IF
  NOT EXISTS AUTH_PERMIT(
    ID VARCHAR(32)  PRIMARY KEY  COMMENT '权限ID' ,
    NAME VARCHAR(128)    COMMENT '权限名称' ,
    SUMMARY VARCHAR(512)    COMMENT '权限描述' ,
    STATUS VARCHAR(32)    COMMENT '状态' ,
    REVISION INT    COMMENT '乐观锁' ,
    CREATED_BY VARCHAR(32)    COMMENT '创建人' ,
    CREATED_TIME DATETIME    COMMENT '创建时间' ,
    UPDATED_BY VARCHAR(32)    COMMENT '更新人' ,
    UPDATED_TIME DATETIME    COMMENT '更新时间'
) ENGINE = INNODB charset = utf8 COMMENT = '权限信息 自定义权限';

INSERT INTO AUTH_PERMIT
VALUES
  ( '1001', 'SUPER', '所有权限', '1', NULL, NULL, now( ), NULL, now( ) ),
  ( '1002', 'ORG_ROOT', '仅次于super', '1', NULL, NULL, now( ), NULL, now( ) ),
  ( '1003', 'DATA_ENTRY', '仅能提交数据', '1', NULL, NULL, now( ), NULL, now( ) );

CREATE TABLE
IF
  NOT EXISTS AUTH_USER_BEHAVIOR(
    ID INT  AUTO_INCREMENT PRIMARY KEY COMMENT '记录流水号' ,
    USER_ID VARCHAR(32)    COMMENT '用户号' ,
    TYPE VARCHAR(32)    COMMENT '行为类型' ,
    VALUE VARCHAR(32)    COMMENT '行为数值' ,
    INTRO VARCHAR(512)    COMMENT '行为说明' ,
    REVISION INT    COMMENT '乐观锁' ,
    CREATED_BY VARCHAR(32)    COMMENT '创建人' ,
    CREATED_TIME DATETIME    COMMENT '创建时间' ,
    UPDATED_BY VARCHAR(32)    COMMENT '更新人' ,
    UPDATED_TIME DATETIME    COMMENT '更新时间'
) ENGINE = INNODB charset = utf8 COMMENT = '用户行为 ';

CREATE TABLE
IF
  NOT EXISTS AUTH_USER_ROLE(
    ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT COMMENT '(自增长)',
    ROLE_ID VARCHAR(32) COMMENT '角色ID' ,
    USER_ID VARCHAR(32) COMMENT '用户ID' ,
    STATUS VARCHAR(32)    COMMENT '状态' ,
    REVISION INT    COMMENT '乐观锁' ,
    CREATED_BY VARCHAR(32)    COMMENT '创建人' ,
    CREATED_TIME DATETIME    COMMENT '创建时间' ,
    UPDATED_BY VARCHAR(32)    COMMENT '更新人' ,
    UPDATED_TIME DATETIME    COMMENT '更新时间',
    KEY `FK_AUTH_USER_ROLE_AUTH_ROLE_1` (`ROLE_ID`),
    KEY `FK_AUTH_USER_ROLE_AUTH_USER_1` (`USER_ID`),
    CONSTRAINT `FK_AUTH_USER_ROLE_AUTH_ROLE_1` FOREIGN KEY (`ROLE_ID`) REFERENCES `AUTH_ROLE` (`ID`),
    CONSTRAINT `FK_AUTH_USER_ROLE_AUTH_USER_1` FOREIGN KEY (`USER_ID`) REFERENCES `AUTH_USER` (`ID`)
) ENGINE = INNODB charset = utf8 COMMENT = '用户角色 ';

INSERT INTO AUTH_USER_ROLE
VALUES
  ( 1, '1001', '1001', 1, NULL, NULL, now( ), NULL, now( )),
  ( 2, '1002', '1002', 1, NULL, NULL, now( ), NULL, now( )),
  ( 3, '1003', '1003', 1, NULL, NULL, now( ), NULL, now( ));

CREATE TABLE
IF
  NOT EXISTS AUTH_ROLE_PERMIT(
    ID VARCHAR(32)   PRIMARY KEY COMMENT '流水号' ,
    ROLE_ID VARCHAR(32)    COMMENT '角色ID' ,
    PERMIT_ID VARCHAR(32)    COMMENT '权限ID' ,
    STATUS VARCHAR(32)    COMMENT '状态' ,
    REVISION INT    COMMENT '乐观锁' ,
    CREATED_BY VARCHAR(32)    COMMENT '创建人' ,
    CREATED_TIME DATETIME    COMMENT '创建时间' ,
    UPDATED_BY VARCHAR(32)    COMMENT '更新人' ,
    UPDATED_TIME DATETIME    COMMENT '更新时间',
    KEY `FK_AUTH_ROLE_PERMIT_AUTH_ROLE` (`ROLE_ID`),
    KEY `FK_AUTH_ROLE_PERMIT_AUTH_PERMIT` (`PERMIT_ID`),
    CONSTRAINT `FK_AUTH_ROLE_PERMIT_AUTH_PERMIT` FOREIGN KEY (`PERMIT_ID`) REFERENCES `AUTH_PERMIT` (`ID`),
    CONSTRAINT `FK_AUTH_ROLE_PERMIT_AUTH_ROLE` FOREIGN KEY (`ROLE_ID`) REFERENCES `AUTH_ROLE` (`ID`)
) ENGINE = INNODB charset = utf8 COMMENT = '角色权限 ';

INSERT INTO AUTH_ROLE_PERMIT
VALUES
  ('1', '1001', '1001', 1, NULL, NULL, now( ), NULL, now( )),
  ('2', '1002', '1002', 1, NULL, NULL, now( ), NULL, now( )),
  ('3', '1003', '1003', 1, NULL, NULL, now( ), NULL, now( ));